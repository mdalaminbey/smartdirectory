{"version":3,"file":"admin/app.js","mappings":"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","sources":["webpack://smartdirectory/./resources/js/admin/app.js"],"sourcesContent":["jQuery(function ($) {\r\n\r\n\tlet uploaded_image;\r\n\r\n\t$('.smart-directory .create-directory-form').on('submit', function (e) {\r\n\t\te.preventDefault();\r\n\r\n\t\tlet $form = $(this)\r\n\t\tlet $submit_button = $form.find('.submit-button');\r\n\t\tlet $notice_success = $form.find('.notice-success');\r\n\t\tlet $notice_error = $form.find('.notice-error');\r\n\r\n\t\t$submit_button.attr('disabled', true);\r\n\t\t$submit_button.css('cursor', 'not-allowed');\r\n\t\t$submit_button.find('svg').show();\r\n\r\n\t\t$.ajax({\r\n\t\t\turl: SmartDirectorySettings.root + $form.attr('data-api'),\r\n\t\t\tmethod: $form.attr('data-method'),\r\n\t\t\tdata: $form.serialize(),\r\n\t\t\tbeforeSend: function (xhr) {\r\n\t\t\t\txhr.setRequestHeader('X-WP-Nonce', SmartDirectorySettings.nonce);\r\n\t\t\t},\r\n\t\t\tsuccess: function () {\r\n\t\t\t\tif ($form.find('input[name=\"ID\"]').length == 0) {\r\n\t\t\t\t\t$form.trigger(\"reset\");\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (uploaded_image?.changed !== undefined) {\r\n\t\t\t\t\t$form.find('.preview-image').attr('src', uploaded_image.changed.url);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$form.find('.preview_image_title').html('');\r\n\r\n\t\t\t\tif (!$notice_error.is(\":hidden\")) {\r\n\t\t\t\t\t$notice_error.slideToggle();\r\n\t\t\t\t}\r\n\t\t\t\t$notice_success.slideToggle();\r\n\t\t\t\tlet myTimeout = setTimeout(function () {\r\n\t\t\t\t\t$notice_success.slideToggle();\r\n\t\t\t\t\tclearTimeout(myTimeout);\r\n\t\t\t\t}, 5000);\r\n\t\t\t},\r\n\t\t\terror: function (data) {\r\n\t\t\t\tlet messages = JSON.parse(data.responseText).messages;\r\n\t\t\t\tlet notices = '';\r\n\t\t\t\tfor (const key in messages) {\r\n\t\t\t\t\tif (Object.hasOwnProperty.call(messages, key)) {\r\n\t\t\t\t\t\tconst element = messages[key];\r\n\t\t\t\t\t\tlet notice = '<ul class=\"bg-danger/10 mb-2 rounded-md px-3 py-2\">';\r\n\t\t\t\t\t\telement.forEach(message => {\r\n\t\t\t\t\t\t\tnotice += '<li>' + message + '</li>';\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tnotice += '</ul>';\r\n\t\t\t\t\t\tnotices += notice;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t$notice_error.html(notices);\r\n\r\n\t\t\t\tif ($notice_error.is(\":hidden\")) {\r\n\t\t\t\t\t$notice_error.slideToggle();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcomplete: function () {\r\n\t\t\t\t$submit_button.removeAttr('disabled');\r\n\t\t\t\t$submit_button.css('cursor', 'pointer');\r\n\t\t\t\t$submit_button.find('svg').hide();\r\n\t\t\t}\r\n\t\t})\r\n\t});\r\n\r\n\t$('.smart-directory #preview_image, .smart-directory .preview_image').on('click', function (event) {\r\n\t\tevent.preventDefault();\r\n\r\n\t\tvar frame = wp.media({\r\n\t\t\ttitle: 'Upload Preview Image',\r\n\t\t\tmultiple: false,\r\n\t\t\taccept: \"image/png, image/jpeg\"\r\n\t\t}).open();\r\n\r\n\t\tframe.on('select', function () {\r\n\t\t\tdocument.getElementById('preview_image').setCustomValidity('');\r\n\t\t\tuploaded_image = frame.state().get('selection').first();\r\n\t\t\t$('.smart-directory .preview_image_title').html(uploaded_image.changed.filename);\r\n\t\t\t$('.smart-directory #preview_image').val(uploaded_image.id);\r\n\t\t\t$('.smart-directory #preview_image').trigger('change');\r\n\t\t})\r\n\t});\r\n});"],"names":["jQuery","$","uploaded_image","on","e","preventDefault","$form","$submit_button","find","$notice_success","$notice_error","attr","css","show","ajax","url","SmartDirectorySettings","root","method","data","serialize","beforeSend","xhr","setRequestHeader","nonce","success","length","trigger","changed","undefined","html","is","slideToggle","myTimeout","setTimeout","clearTimeout","error","messages","JSON","parse","responseText","notices","key","Object","hasOwnProperty","call","element","notice","forEach","message","complete","removeAttr","hide","event","frame","wp","media","title","multiple","accept","open","document","getElementById","setCustomValidity","state","get","first","filename","val","id"],"sourceRoot":""}